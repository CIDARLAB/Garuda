<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:th="http://www.thymeleaf.org">

    <head th:replace="layout :: site-head"></head>

    <body class="nav-md">
        <div class="container body">
            <div class="main_container">
                
                <div th:replace="layout :: left-menu"></div>

                <div th:replace="layout :: site-header"></div>
                
                <!-- page content -->
                <div class="right_col" role="main">
                    <div class="">
                        <div class="page-title">
                            <div class="title_left utitle">
                                <h3>Search results</h3>
                            </div>

                            <div class="title_right">
                                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Filter search..."/>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" type="button">Go!</button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="clearfix"></div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="x_panel">
                                    <div class="x_title">
                                        <h2>Search results</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        <p class="umessage" th:text="*{row}"></p>
                                        <div class="row">
                                            
                                            <!-- LIST -->
                                            <div class="col-sm-3">
                                                <button id="listview" class="btn btn-sm btn-success btn-block" type="button">LIST VIEW</button>
                                                <br/>
                                                <a href="#" th:each="result, iter: ${searchForm.getResults_name()}" th:class="'entry' + ${iter.index}">
                                                    <div class="mail_list">
                                                        <div class="left">
                                                            <i class="fa fa-circle-o-notch"></i>
                                                        </div>
                                                        <div class="right">
                                                            <h3 th:text="${result}"></h3>
                                                            <p>Some description goes here...</p>
                                                            <!--<p th:text="${plasmid.getDescription()}"></p>
                                                            <p th:text="${plasmid.getLength()}"></p>
                                                            <p th:text="${plasmid.getAnnostring()}"></p>-->
                                                        </div>
                                                    </div>
                                                </a>

                                            </div>
                                            <!-- /LIST -->

                                            <!-- CONTENT -->
                                            <div ng-app="myApp" ng-controller="myCtrl" class="col-sm-9 mail_view inbox-body ucontainer">
                                                
                                                <div class="plasmidx">
                                                    <div id="uprintable" class="mail_heading row">
                                                        <br/>
                                                        <br/>
                                                        <h3 class="usearchres">Click on entries to see detailed information</h3>
                                                    </div>
                                                </div>
                                                
                                                
                                                <div ng-repeat="re in results track by $index" class="plasmid{{$index}}" style="display:none">
                                                <!--<div class="plasmid3" style="display:none">-->
                                                    <div id="uprintable" class="mail_heading row">
                                                        <div class="col-md-8">
                                                            <div class="btn-group">
                                                                <button class="btn btn-sm btn-primary" type="button"><i class="fa fa-circle-o-notch"></i> Map View</button>
                                                                <button class="btn btn-sm btn-default" type="button"  data-placement="top" data-toggle="tooltip" data-original-title="Forward"><i class="fa fa-share"></i> Detailed View</button>
                                                                <button class="btn btn-sm btn-default" type="button" data-placement="top" data-toggle="tooltip" data-original-title="Print" onclick="printJS('uprintable', 'html')"><i class="fa fa-print"></i> Export</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4 text-right">
                                                            <button class="btn btn-sm btn-primary" type="button">Edit</button>
                                                            <button class="btn btn-sm btn-default" type="button"><i class="fa fa-trash-o"></i> Delete</button>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <h4 class="uctitle"> TITLE {{$index}} <span class="badge">test</span></h4>
                                                        </div>
                                                        <div class="ucenter">
                                                            <pre style="text-align:left">
                                                                <p th:text="*{result}"></p>
                                                            </pre>
                                                            <img src="{{re}}" alt=""/>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!--<button type="button" onclick="printJS('uprintable', 'html')">
                                                    Print Form
                                                </button>-->

                                            </div>

                                            <!-- /CONTENT MAIL -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /page content -->

                <footer th:replace="layout :: site-footer"></footer>
                
            </div>
        </div>

        <!-- jQuery -->
        <script src="js/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="js/bootstrap.min.js"></script>
        <!-- NProgress -->
        <script src="js/nprogress.js"></script>
        <!-- bootstrap-progressbar -->
        <script src="js/bootstrap-progressbar.min.js"></script>
        <!-- Autosize -->
        <script src="js/autosize.min.js"></script>

        <!-- Custom Theme Scripts -->
        <script src="js/custom.min.js"></script>
        
         <!-- Angular Plasmid -->
	<script src='js/angular.min.js'></script>
	<script src='js/angularplasmid.min.js'></script>
	<script src='js/print.min.js'></script>
	
	<script th:inline="javascript">
            /*<![CDATA[*/
            var ang = angular.module('myApp', []);
            
            ang.controller('myCtrl', function($scope) {
                
                $scope.results = [[${searchForm.getResults_url()}]];
                
                $('[class^="entry"]').on('click', function(e){
                    
                    e.preventDefault();
                   
                    var num = this.className.replace('entry', '');
                    $('[class^="plasmid"]').hide();
                    $('.plasmid' + num).show();
                    
                });
            });
            /*]]>*/
	</script>
        <!-- Onchange combobox -->
        <script>
            $(function(){
              // bind change event to select
              $('#sheet').on('change', function () {
                  var url = $(this).val(); // get selected value
                  if (url) { // require a URL
                      window.location = url; // redirect
                  }
              });
            });
        </script>
        <!-- /Onchange combobox -->
        <!-- Autosize -->
        <script>
          $(document).ready(function() {
            autosize($('.resizable_textarea'));
          });
        </script>
        <!-- /Autosize -->
    </body>

</html>